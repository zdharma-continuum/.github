name: Sync GitHub Actions workflows

on:
  workflow_dispatch:
  push:
    branches:
      - main
      - master
  schedule:
    - cron:  '*/10 * * * *' # Run every 10 minutes.

jobs:

  sync-workflows:
    name: Sync GitHub Actions workflows
    runs-on: ubuntu-latest
    steps:
      - name: Sync files
        uses: adrianjost/files-sync-action@v1.5.1
        with:
          FILE_PATTERNS: |
            ^.github/workflows/linting.yml
            ^.github/workflows/cleanup-workflows.yml
          TARGET_REPOS: |
           vladdoster/dotfiles
           vladdoster/neovim-configuration
           vladdoster/hammerspoon-configuration
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
